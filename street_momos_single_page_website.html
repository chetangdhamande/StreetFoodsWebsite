<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Street Momos App</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --accent: #ffc107;
      --button: #7a3a0e;
      --bg: #0f172a;
      --card: #1a2236;
      --text: #e2e8f0;
      --muted: #94a3b8;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: 'Poppins', sans-serif; background: var(--bg); color: var(--text); }
    .app { max-width: 480px; margin: auto; height: 100vh; display: flex; flex-direction: column; background: var(--card); border-radius: 20px; overflow: hidden; position: relative; }
    header { background: var(--accent); padding: 16px; text-align: center; font-weight: 700; font-size: 20px; color: #0f172a; }
    main { flex: 1; overflow-y: auto; position: relative; padding-bottom: 80px; }
    .hero { position: relative; height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; color: #fff; }
    .hero::before { content: ''; position: absolute; inset: 0; background: url('https://images.unsplash.com/photo-1604908176836-0c7f6d5b2d12?q=80&w=1200&auto=format&fit=crop') center/cover no-repeat; filter: brightness(0.4); z-index: -1; }
    .welcome { font-size: 22px; font-weight: 700; margin-bottom: 10px; color: var(--accent); animation: fadeIn 1.5s ease-in-out; }
    .btn { background: var(--button); border: none; padding: 10px 16px; border-radius: 12px; font-weight: 700; color: #fff; cursor: pointer; transition: all 0.3s ease; }
    .btn:hover { background: var(--accent); color: #0f172a; transform: scale(1.05); }
    footer { background: rgba(255,255,255,0.03); padding: 10px; display: flex; justify-content: space-around; align-items: center; position: relative; z-index: 1; }
    footer button { background: none; border: none; color: var(--muted); font-weight: 600; cursor: pointer; }
    footer button.active { color: var(--accent); }
    .menu-item { background: rgba(255,255,255,0.05); padding: 12px; border-radius: 12px; margin-bottom: 10px; transition: all 0.2s ease; }
    .menu-item:hover { background: rgba(255,193,7,0.1); }
    .qty-control { display: flex; align-items: center; gap: 10px; margin-top: 6px; }
    .qty-btn { background: var(--button); border: none; color: #fff; border-radius: 50%; width: 28px; height: 28px; font-weight: 700; cursor: pointer; transition: all 0.3s ease; }
    .qty-btn:hover { background: var(--accent); color: #0f172a; transform: scale(1.05); }
    .delete-btn { background: none; border: 1px solid var(--accent); color: var(--accent); border-radius: 8px; padding: 4px 8px; cursor: pointer; font-size: 12px; transition: all 0.2s ease; }
    .delete-btn:hover { background: var(--accent); color: #0f172a; transform: scale(1.05); }
    .cart-bar { position: fixed; bottom: 60px; left: 0; right: 0; max-width: 480px; margin: auto; background: linear-gradient(90deg, #ffc107, #ffca28); color: #0f172a; font-weight: 700; display: flex; justify-content: space-between; align-items: center; padding: 12px 16px; border-radius: 16px 16px 0 0; box-shadow: 0 -4px 10px rgba(0,0,0,0.3); cursor: pointer; transition: all 0.3s ease; }
    .cart-bar.hidden { display: none; }
    .overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.6); backdrop-filter: blur(6px); display: none; justify-content: center; align-items: flex-end; z-index: 10; }
    .overlay.active { display: flex; animation: fadeIn 0.3s ease-in-out; }
    .cart-panel { background: var(--card); width: 100%; max-width: 480px; border-radius: 20px 20px 0 0; padding: 20px; color: var(--text); transform: translateY(100%); animation: slideUp 0.4s ease-out forwards; }
    .cart-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
    .cart-header h3 { color: var(--accent); }
    .cart-item { display: flex; justify-content: space-between; margin: 8px 0; opacity: 1; transition: opacity 0.3s ease; }
    .cart-total { text-align: right; font-weight: 700; color: var(--accent); margin-top: 10px; }
    .qr-img { width: 180px; height: 180px; margin-top: 10px; border-radius: 12px; border: 2px solid var(--accent); display: block; margin-left: auto; margin-right: auto; cursor: pointer; }
    @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
  </style>
</head>
<body>
  <div class="app">
    <header>Street Momos</header>
    <main id="content"></main>
    <div id="cartBar" class="cart-bar hidden" onclick="openCartPanel()"></div>
    <div id="overlay" class="overlay" onclick="closeCartPanel(event)">
      <div class="cart-panel" onclick="event.stopPropagation()">
        <div class="cart-header">
          <h3>Your Order</h3>
          <button class="btn" style="padding:4px 8px;" onclick="closeCartPanel()">‚ùå</button>
        </div>
        <div id="cartItems"></div>
        <div class="cart-total" id="cartTotal"></div>
        <p style="text-align:center;margin-top:10px;">üí≥ Tap QR to pay via UPI</p>
        <a href="upi://pay?pa=8147535707@okbizaxis&pn=StreetMomos&cu=INR" target="_blank">
          <img src="https://api.qrserver.com/v1/create-qr-code/?size=180x180&data=upi://pay?pa=8147535707@okbizaxis&pn=StreetMomos&cu=INR" alt="UPI QR Code" class="qr-img">
        </a>
        <button class="btn" style="width:100%;margin-top:12px;" onclick="sendCartWhatsApp()">Send Order via WhatsApp</button>
      </div>
    </div>
    <footer>
      <button id="homeBtn" class="active" onclick="openHome()">Home</button>
      <button id="menuBtn" onclick="openMenu()">Menu</button>
      <button id="supportBtn" onclick="openSupport()">Support</button>
    </footer>
  </div>

  <script>
    const content = document.getElementById('content');
    const cartBar = document.getElementById('cartBar');
    const overlay = document.getElementById('overlay');
    const cartItemsDiv = document.getElementById('cartItems');
    const cartTotalDiv = document.getElementById('cartTotal');
    const phone = '+918147535707';
    const upiID = '8147535707@okbizaxis';
    const qrURL = 'https://api.qrserver.com/v1/create-qr-code/?size=180x180&data=upi://pay?pa=8147535707@okbizaxis&pn=StreetMomos&cu=INR';

    const menu = [
      {name:'Veg Momo', price:80},
      {name:'Chicken Momo', price:120},
      {name:'Fried Momo', price:130},
      {name:'Schezwan Momo', price:140},
      {name:'Paneer Momo', price:130}
    ];

    const cart = JSON.parse(localStorage.getItem('cart') || '{}');
    menu.forEach(item => {
      const id = item.name.replace(/\s+/g,'');
      cart[id] = cart[id] || {...item, qty:0};
    });

    function saveCart(){ localStorage.setItem('cart', JSON.stringify(cart)); }

    function openHome(){
      setActive('homeBtn');
      content.innerHTML = `<div class='hero'>
        <div class='welcome'>Welcome to Street Momos ‚ú®<br>Have a Classy Bite!</div>
        <h2>Delicious Street-Style Momos</h2>
        <p>Freshly steamed, fried, and tossed momos made to order.</p>
        <button class='btn' onclick='openMenu()'>Order Now</button>
      </div>`;
    }

    function openMenu(){
      setActive('menuBtn');
      let html = `<div style='padding:16px;'>
        <h3 style='color:var(--accent);margin-bottom:10px;'>Menu</h3>`;
      menu.forEach(item=>{
        const id = item.name.replace(/\s+/g,'');
        html += `<div class='menu-item' id='item-${id}'>
          <h4>${item.name}</h4>
          <div style='color:var(--accent);font-weight:700;'>‚Çπ${item.price}</div>
          <div id='controls-${id}'>
            <button class='btn' onclick='addItem("${id}")'>Add</button>
          </div>
        </div>`;
      });
      html += `</div>`;
      content.innerHTML = html;
    }

    function addItem(id){
      cart[id].qty = 1;
      updateControls(id);
      updateCartBar();
      saveCart();
    }

    function updateControls(id){
      const item = cart[id];
      const controls = document.getElementById(`controls-${id}`);
      if(item.qty > 0){
        controls.innerHTML = `<div class='qty-control'>
          <button class='qty-btn' onclick='changeQty("${id}",-1)'>-</button>
          <span>${item.qty}</span>
          <button class='qty-btn' onclick='changeQty("${id}",1)'>+</button>
          <button class='delete-btn' onclick='removeItem("${id}")'>Delete</button>
        </div>`;
      } else {
        controls.innerHTML = `<button class='btn' onclick='addItem("${id}")'>Add</button>`;
      }
    }

    function changeQty(id,delta){
      cart[id].qty = Math.max(0, cart[id].qty + delta);
      updateControls(id);
      updateCartBar();
      saveCart();
    }

    function removeItem(id){
      cart[id].qty = 0;
      updateControls(id);
      updateCartBar();
      saveCart();
    }

    function updateCartBar(){
      const items = Object.values(cart).filter(i => i.qty > 0);
      if(items.length === 0){ cartBar.classList.add('hidden'); return; }
      const total = items.reduce((sum,i)=>sum+i.price*i.qty,0);
      const count = items.reduce((sum,i)=>sum+i.qty,0);
      cartBar.textContent = `üõí ${count} item${count>1?'s':''} ‚Ä¢ ‚Çπ${total} ‚Üí View Cart`;
      cartBar.classList.remove('hidden');
    }

    function openCartPanel(){
      const items = Object.values(cart).filter(i=>i.qty>0);
      let html='', total=0;
      items.forEach(i=>{
        const itemTotal = i.price*i.qty;
        total += itemTotal;
        html += `<div class='cart-item'><span>${i.name} x ${i.qty}</span><span>‚Çπ${itemTotal}</span></div>`;
      });
      cartItemsDiv.innerHTML = html;
      cartTotalDiv.textContent = `Grand Total: ‚Çπ${total}`;
      overlay.classList.add('active');
    }

    function closeCartPanel(){ overlay.classList.remove('active'); }

    function sendCartWhatsApp(){
      const items = Object.values(cart).filter(i => i.qty>0);
      if(items.length===0){closeCartPanel(); return;}
      let msg = 'Hi! I would like to order:\n';
      let total = 0;
      items.forEach(i=>{
        const itemTotal = i.price*i.qty;
        total += itemTotal;
        msg += `${i.name} x ${i.qty} = ‚Çπ${itemTotal}\n`;
      });
      msg += `Grand Total: ‚Çπ${total}\n\nPayment: Please pay via UPI (${upiID}) before delivery and send screenshot via WhatsApp.`;
      window.open(`https://wa.me/${phone.replace(/\D/g,'')}?text=${encodeURIComponent(msg)}`, '_blank');
    }

    function setActive(id){
      document.querySelectorAll('footer button').forEach(b=>b.classList.remove('active'));
      document.getElementById(id).classList.add('active');
    }

    function openSupport(){
      setActive('supportBtn');
      content.innerHTML=`<div style="padding:16px;">
        <h3 style="color:var(--accent);margin-bottom:10px;">Support & Delivery Info</h3>
        <p>üïí Delivery Time: 30-45 mins from order confirmation.</p>
        <p>üì¶ Freshly prepared momos on order. Keep your phone handy for WhatsApp confirmation.</p>
        <p>üí≥ Payment: Pay via UPI to <strong>${upiID}</strong> before delivery.</p>
        <p>Scan QR code below to pay quickly:</p>
        <a href="upi://pay?pa=${upiID}&pn=StreetMomos&cu=INR" target="_blank">
          <img src="${qrURL}" alt="UPI QR Code" class="qr-img">
        </a>
        <p>After payment, send the screenshot or transaction ID via WhatsApp to <strong>${phone}</strong>.</p>
        <p>üìû Contact: ${phone}</p>
      </div>`;
    }

    openHome();
    updateCartBar();
  </script>
</body>
</html>
